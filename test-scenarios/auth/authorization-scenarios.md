# 권한 제어 테스트 시나리오

---
tools: ['playwright']
---

## 시나리오 1: 관리자 - 모든 페이지 접근 가능

1. 관리자 계정으로 로그인한다.
2. `/admin/users` 페이지로 이동한다.
3. 페이지가 정상적으로 로드되는지 확인한다.
4. `/admin/clubs` 페이지로 이동한다.
5. 페이지가 정상적으로 로드되는지 확인한다.
6. `/admin/settings` 페이지로 이동한다.
7. 페이지가 정상적으로 로드되는지 확인한다.
8. `/admin/analytics` 페이지로 이동한다.
9. 페이지가 정상적으로 로드되는지 확인한다.
10. `/teams` 페이지로 이동한다.
11. 페이지가 정상적으로 로드되는지 확인한다.
12. `/reports/new` 페이지로 이동한다.
13. 페이지가 정상적으로 로드되는지 확인한다.

## 시나리오 2: 리더 - 팀 관리 페이지 접근 가능

1. 리더 계정으로 로그인한다.
2. `/teams` 페이지로 이동한다.
3. 페이지가 정상적으로 로드되는지 확인한다.
4. `/teams/invite` 페이지로 이동한다.
5. 페이지가 정상적으로 로드되는지 확인한다.
6. `/reports/new` 페이지로 이동한다.
7. 페이지가 정상적으로 로드되는지 확인한다.
8. `/admin/users` 페이지로 이동을 시도한다.
9. 대시보드로 리다이렉트되는지 확인한다.

## 시나리오 3: 멤버 - 제한된 페이지만 접근 가능

1. 멤버 계정으로 로그인한다.
2. `/teams` 페이지로 이동한다.
3. 읽기 전용으로 접근되는지 확인한다.
4. `/reports/new` 페이지로 이동한다.
5. 페이지가 정상적으로 로드되는지 확인한다.
6. `/teams/invite` 페이지로 이동을 시도한다.
7. 접근이 차단되거나 리다이렉트되는지 확인한다.
8. `/admin/users` 페이지로 이동을 시도한다.
9. 접근이 차단되거나 리다이렉트되는지 확인한다.

## 시나리오 4: 비로그인 사용자 - 보호된 페이지 접근 차단

1. 로그인하지 않은 상태에서 시작한다.
2. `/teams` 페이지로 직접 이동을 시도한다.
3. 로그인 페이지로 리다이렉트되는지 확인한다.
4. `/admin/users` 페이지로 직접 이동을 시도한다.
5. 로그인 페이지로 리다이렉트되는지 확인한다.
6. `/reports/new` 페이지로 직접 이동을 시도한다.
7. 로그인 페이지로 리다이렉트되는지 확인한다.
8. 로그인한 후 원래 요청한 페이지로 이동하는지 확인한다.

## 시나리오 5: Executive - 동아리별 사용자 관리 접근

1. Executive 계정으로 로그인한다.
2. `/executive/users` 페이지로 이동한다.
3. 소속 동아리의 사용자 목록이 표시되는지 확인한다.
4. 다른 동아리 사용자는 표시되지 않는지 확인한다.
5. 제한된 관리 기능만 사용할 수 있는지 확인한다.

## 시나리오 6: 세션 만료 후 페이지 접근

1. 로그인한 상태에서 시작한다.
2. 개발자 도구에서 localStorage의 토큰을 삭제한다.
3. 보호된 페이지를 새로고침한다.
4. 로그인 페이지로 리다이렉트되는지 확인한다.

## 시나리오 7: 팀별 권한 제어

1. 팀 A의 멤버로 로그인한다.
2. 팀 B의 상세 페이지로 이동을 시도한다.
3. 접근이 제한되거나 읽기 전용으로 표시되는지 확인한다.
4. 팀 B의 보고서 수정을 시도한다.
5. 수정 권한이 없다는 메시지가 표시되는지 확인한다.

## 시나리오 8: 동적 권한 변경 반영

1. 관리자가 사용자의 권한을 변경한다.
2. 해당 사용자가 페이지를 새로고침한다.
3. 변경된 권한이 즉시 반영되는지 확인한다.
4. 새로운 권한에 맞는 메뉴가 표시되는지 확인한다.